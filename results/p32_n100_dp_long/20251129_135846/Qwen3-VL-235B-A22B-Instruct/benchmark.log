2025-11-29 13:58:46 - evalscope - INFO: Starting benchmark with args: 
2025-11-29 13:58:46 - evalscope - INFO: {
    "model": "Qwen3-VL-235B-A22B-Instruct",
    "model_id": "Qwen3-VL-235B-A22B-Instruct",
    "attn_implementation": null,
    "api": "openai",
    "tokenizer_path": null,
    "port": 8877,
    "url": "http://100.125.1.153/v1/chat/completions",
    "headers": {},
    "connect_timeout": 600,
    "read_timeout": 600,
    "api_key": null,
    "no_test_connection": false,
    "number": 100,
    "parallel": 32,
    "rate": -1,
    "sleep_interval": 5,
    "db_commit_interval": 1000,
    "queue_size_multiplier": 5,
    "in_flight_task_multiplier": 2,
    "log_every_n_query": 10,
    "debug": false,
    "visualizer": null,
    "wandb_api_key": null,
    "swanlab_api_key": null,
    "name": null,
    "outputs_dir": "./results/p32_n100_dp_long/20251129_135846/Qwen3-VL-235B-A22B-Instruct",
    "max_prompt_length": 9223372036854775807,
    "min_prompt_length": 0,
    "prefix_length": 0,
    "prompt": "I'm working on a large-scale e-commerce platform with millions of daily active users. Can you provide a comprehensive architectural guide for building a high-performance, scalable system that includes microservices design, database sharding strategies, caching layers, CDN implementation, load balancing, and real-time inventory management? Please include specific technology recommendations for each layer and discuss trade-offs between different approaches.",
    "query_template": null,
    "apply_chat_template": true,
    "image_width": 224,
    "image_height": 224,
    "image_format": "RGB",
    "image_num": 1,
    "image_patch_size": 28,
    "dataset": "openqa",
    "dataset_path": null,
    "frequency_penalty": null,
    "repetition_penalty": null,
    "logprobs": null,
    "max_tokens": 200,
    "min_tokens": null,
    "n_choices": null,
    "seed": null,
    "stop": null,
    "stop_token_ids": null,
    "stream": true,
    "temperature": 0.0,
    "top_p": null,
    "top_k": null,
    "extra_args": {}
}
2025-11-29 13:58:47 - evalscope - INFO: Test connection successful.
2025-11-29 13:58:47 - evalscope - INFO: Save the data base to: ./results/p32_n100_dp_long/20251129_135846/Qwen3-VL-235B-A22B-Instruct/benchmark_data.db
2025-11-29 13:58:51 - evalscope - INFO: {
  "Time taken for tests (s)": 3.4889,
  "Number of concurrency": 32,
  "Total requests": 10,
  "Succeed requests": 10,
  "Failed requests": 0,
  "Output token throughput (tok/s)": 574.0968,
  "Total token throughput (tok/s)": 809.4764,
  "Request throughput (req/s)": 2.8705,
  "Average latency (s)": 3.4792,
  "Average time to first token (s)": 0.3458,
  "Average time per output token (s)": 0.0157,
  "Average inter-token latency (s)": 0.0157,
  "Average input tokens per request": 82.0,
  "Average output tokens per request": 200.0
}
2025-11-29 13:58:51 - evalscope - INFO: {
  "Time taken for tests (s)": 3.5694,
  "Number of concurrency": 32,
  "Total requests": 20,
  "Succeed requests": 20,
  "Failed requests": 0,
  "Output token throughput (tok/s)": 1120.7286,
  "Total token throughput (tok/s)": 1580.2274,
  "Request throughput (req/s)": 5.6036,
  "Average latency (s)": 3.4954,
  "Average time to first token (s)": 0.3514,
  "Average time per output token (s)": 0.0158,
  "Average inter-token latency (s)": 0.0157,
  "Average input tokens per request": 82.0,
  "Average output tokens per request": 200.0
}
2025-11-29 13:58:51 - evalscope - INFO: {
  "Time taken for tests (s)": 3.5735,
  "Number of concurrency": 32,
  "Total requests": 30,
  "Succeed requests": 30,
  "Failed requests": 0,
  "Output token throughput (tok/s)": 1679.0676,
  "Total token throughput (tok/s)": 2367.4853,
  "Request throughput (req/s)": 8.3953,
  "Average latency (s)": 3.5198,
  "Average time to first token (s)": 0.3942,
  "Average time per output token (s)": 0.0157,
  "Average inter-token latency (s)": 0.0156,
  "Average input tokens per request": 82.0,
  "Average output tokens per request": 200.0
}
2025-11-29 13:58:54 - evalscope - INFO: {
  "Time taken for tests (s)": 6.5002,
  "Number of concurrency": 32,
  "Total requests": 40,
  "Succeed requests": 40,
  "Failed requests": 0,
  "Output token throughput (tok/s)": 1231.3223,
  "Total token throughput (tok/s)": 1736.1644,
  "Request throughput (req/s)": 6.1566,
  "Average latency (s)": 3.4162,
  "Average time to first token (s)": 0.3447,
  "Average time per output token (s)": 0.0154,
  "Average inter-token latency (s)": 0.0154,
  "Average input tokens per request": 82.0,
  "Average output tokens per request": 200.0
}
2025-11-29 13:58:54 - evalscope - INFO: {
  "Time taken for tests (s)": 7.2737,
  "Number of concurrency": 32,
  "Total requests": 50,
  "Succeed requests": 50,
  "Failed requests": 0,
  "Output token throughput (tok/s)": 1374.8754,
  "Total token throughput (tok/s)": 1938.5743,
  "Request throughput (req/s)": 6.8744,
  "Average latency (s)": 3.3781,
  "Average time to first token (s)": 0.2988,
  "Average time per output token (s)": 0.0155,
  "Average inter-token latency (s)": 0.0154,
  "Average input tokens per request": 82.0,
  "Average output tokens per request": 200.0
}
2025-11-29 13:58:54 - evalscope - INFO: {
  "Time taken for tests (s)": 7.3805,
  "Number of concurrency": 32,
  "Total requests": 60,
  "Succeed requests": 60,
  "Failed requests": 0,
  "Output token throughput (tok/s)": 1625.98,
  "Total token throughput (tok/s)": 2292.6318,
  "Request throughput (req/s)": 8.1299,
  "Average latency (s)": 3.4469,
  "Average time to first token (s)": 0.2686,
  "Average time per output token (s)": 0.016,
  "Average inter-token latency (s)": 0.0159,
  "Average input tokens per request": 82.0,
  "Average output tokens per request": 200.0
}
2025-11-29 13:58:57 - evalscope - INFO: {
  "Time taken for tests (s)": 9.7966,
  "Number of concurrency": 32,
  "Total requests": 70,
  "Succeed requests": 70,
  "Failed requests": 0,
  "Output token throughput (tok/s)": 1429.3453,
  "Total token throughput (tok/s)": 2015.3768,
  "Request throughput (req/s)": 7.1467,
  "Average latency (s)": 3.4573,
  "Average time to first token (s)": 0.2534,
  "Average time per output token (s)": 0.0161,
  "Average inter-token latency (s)": 0.016,
  "Average input tokens per request": 82.0,
  "Average output tokens per request": 200.0
}
2025-11-29 13:58:58 - evalscope - INFO: {
  "Time taken for tests (s)": 10.5798,
  "Number of concurrency": 32,
  "Total requests": 80,
  "Succeed requests": 80,
  "Failed requests": 0,
  "Output token throughput (tok/s)": 1558.3731,
  "Total token throughput (tok/s)": 2197.306,
  "Request throughput (req/s)": 7.7919,
  "Average latency (s)": 3.4732,
  "Average time to first token (s)": 0.2492,
  "Average time per output token (s)": 0.0162,
  "Average inter-token latency (s)": 0.0161,
  "Average input tokens per request": 82.0,
  "Average output tokens per request": 200.0
}
2025-11-29 13:58:58 - evalscope - INFO: {
  "Time taken for tests (s)": 11.1922,
  "Number of concurrency": 32,
  "Total requests": 90,
  "Succeed requests": 90,
  "Failed requests": 0,
  "Output token throughput (tok/s)": 1608.2678,
  "Total token throughput (tok/s)": 2267.6576,
  "Request throughput (req/s)": 8.0413,
  "Average latency (s)": 3.4703,
  "Average time to first token (s)": 0.2352,
  "Average time per output token (s)": 0.0163,
  "Average inter-token latency (s)": 0.0162,
  "Average input tokens per request": 82.0,
  "Average output tokens per request": 200.0
}
2025-11-29 13:59:00 - evalscope - INFO: {
  "Time taken for tests (s)": 12.7294,
  "Number of concurrency": 32,
  "Total requests": 100,
  "Succeed requests": 100,
  "Failed requests": 0,
  "Output token throughput (tok/s)": 1572.1364,
  "Total token throughput (tok/s)": 2216.7124,
  "Request throughput (req/s)": 7.8607,
  "Average latency (s)": 3.4672,
  "Average time to first token (s)": 0.2375,
  "Average time per output token (s)": 0.0162,
  "Average inter-token latency (s)": 0.0161,
  "Average input tokens per request": 82.0,
  "Average output tokens per request": 200.0
}
2025-11-29 13:59:00 - evalscope - INFO: 
Benchmarking summary:
+-----------------------------------+-----------+
| Key                               |     Value |
+===================================+===========+
| Time taken for tests (s)          |   12.7294 |
+-----------------------------------+-----------+
| Number of concurrency             |   32      |
+-----------------------------------+-----------+
| Total requests                    |  100      |
+-----------------------------------+-----------+
| Succeed requests                  |  100      |
+-----------------------------------+-----------+
| Failed requests                   |    0      |
+-----------------------------------+-----------+
| Output token throughput (tok/s)   | 1572.14   |
+-----------------------------------+-----------+
| Total token throughput (tok/s)    | 2216.71   |
+-----------------------------------+-----------+
| Request throughput (req/s)        |    7.8607 |
+-----------------------------------+-----------+
| Average latency (s)               |    3.4672 |
+-----------------------------------+-----------+
| Average time to first token (s)   |    0.2375 |
+-----------------------------------+-----------+
| Average time per output token (s) |    0.0162 |
+-----------------------------------+-----------+
| Average inter-token latency (s)   |    0.0161 |
+-----------------------------------+-----------+
| Average input tokens per request  |   82      |
+-----------------------------------+-----------+
| Average output tokens per request |  200      |
+-----------------------------------+-----------+
2025-11-29 13:59:00 - evalscope - INFO: 
Percentile results:
+-------------+----------+---------+----------+-------------+--------------+---------------+----------------+---------------+
| Percentiles | TTFT (s) | ITL (s) | TPOT (s) | Latency (s) | Input tokens | Output tokens | Output (tok/s) | Total (tok/s) |
+-------------+----------+---------+----------+-------------+--------------+---------------+----------------+---------------+
|     10%     |  0.1029  |   0.0   |  0.0144  |   2.9971    |      82      |      200      |    51.4532     |    72.549     |
|     25%     |  0.1187  |   0.0   |  0.0155  |   3.2241    |      82      |      200      |    54.0023     |    76.1432    |
|     50%     |  0.1434  |   0.0   |  0.0157  |    3.49     |      82      |      200      |    57.3202     |    80.8215    |
|     66%     |  0.3059  |  0.002  |  0.0166  |   3.6152    |      82      |      200      |    60.4694     |    85.2619    |
|     75%     |  0.3648  |  0.008  |  0.0179  |    3.704    |      82      |      200      |    62.0817     |    87.5351    |
|     80%     |  0.3683  | 0.0133  |  0.0181  |   3.7797    |      82      |      200      |    62.5027     |    88.1288    |
|     90%     |  0.4777  | 0.0198  |  0.0189  |   3.8905    |      82      |      200      |    66.7319     |    94.0919    |
|     95%     |  0.4851  | 0.0705  |  0.019   |   3.9014    |      82      |      200      |    67.8958     |    95.7331    |
|     98%     |  0.5363  | 0.2878  |  0.019   |   3.9142    |      82      |      200      |    68.2047     |    96.1686    |
|     99%     |  0.5456  | 0.3479  |  0.019   |   3.9158    |      82      |      200      |    77.6241     |    109.45     |
+-------------+----------+---------+----------+-------------+--------------+---------------+----------------+---------------+
2025-11-29 13:59:00 - evalscope - INFO: Save the summary to: ./results/p32_n100_dp_long/20251129_135846/Qwen3-VL-235B-A22B-Instruct
